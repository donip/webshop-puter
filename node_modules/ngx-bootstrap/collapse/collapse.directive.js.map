{"version":3,"sources":["../../.tmp/collapse/collapse.directive.ts"],"names":[],"mappings":"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","file":"collapse.directive.js","sourceRoot":"","sourcesContent":["// todo: add animations when https://github.com/angular/angular/issues/9947 solved\nimport {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n  Renderer2\n} from '@angular/core';\n\n\nexport class CollapseDirective {\n  /** This event fires as soon as content collapses */\n   collapsed: EventEmitter<any> = new EventEmitter();\n  /** This event fires as soon as content becomes visible */\n   expanded: EventEmitter<any> = new EventEmitter();\n\n   display: string;\n  // shown\n  \n  \n  \n  isExpanded = true;\n  // hidden\n   isCollapsed = false;\n  // stale state\n   isCollapse = true;\n  // animation state\n   isCollapsing = false;\n\n  /** A flag indicating visibility of content (shown or hidden) */\n  \n  set collapse(value: boolean) {\n    this.isExpanded = value;\n    this.toggle();\n  }\n\n  get collapse(): boolean {\n    return this.isExpanded;\n  }\n\n  constructor(private _el: ElementRef, private _renderer: Renderer2) {\n  }\n\n  /** allows to manually toggle content visibility */\n  toggle(): void {\n    if (this.isExpanded) {\n      this.hide();\n    } else {\n      this.show();\n    }\n  }\n\n  /** allows to manually hide content */\n  hide(): void {\n    this.isCollapse = false;\n    this.isCollapsing = true;\n\n    this.isExpanded = false;\n    this.isCollapsed = true;\n\n    this.isCollapse = true;\n    this.isCollapsing = false;\n\n    this.display = 'none';\n    this.collapsed.emit(this);\n  }\n\n  /** allows to manually show collapsed content */\n  show(): void {\n    this.isCollapse = false;\n    this.isCollapsing = true;\n\n    this.isExpanded = true;\n    this.isCollapsed = false;\n\n    this.display = 'block';\n    // this.height = 'auto';\n    this.isCollapse = true;\n    this.isCollapsing = false;\n    this._renderer.setStyle(\n      this._el.nativeElement,\n      'overflow',\n      'visible'\n    );\n    this._renderer.setStyle(this._el.nativeElement, 'height', 'auto');\n    this.expanded.emit(this);\n  }\nstatic decorators: DecoratorInvocation[] = [\n{ type: Directive, args: [{\n  selector: '[collapse]',\n  exportAs: 'bs-collapse',\n  host: {\n    '[class.collapse]': 'true'\n  }\n}, ] },\n];\n/** @nocollapse */\nstatic ctorParameters: () => ({type: any, decorators?: DecoratorInvocation[]}|null)[] = () => [\n{type: ElementRef, },\n{type: Renderer2, },\n];\nstatic propDecorators: {[key: string]: DecoratorInvocation[]} = {\n'collapsed': [{ type: Output },],\n'expanded': [{ type: Output },],\n'display': [{ type: HostBinding, args: ['style.display', ] },],\n'isExpanded': [{ type: HostBinding, args: ['class.in', ] },{ type: HostBinding, args: ['class.show', ] },{ type: HostBinding, args: ['attr.aria-expanded', ] },],\n'isCollapsed': [{ type: HostBinding, args: ['attr.aria-hidden', ] },],\n'isCollapse': [{ type: HostBinding, args: ['class.collapse', ] },],\n'isCollapsing': [{ type: HostBinding, args: ['class.collapsing', ] },],\n'collapse': [{ type: Input },],\n};\n}\n\ninterface DecoratorInvocation {\n  type: Function;\n  args?: any[];\n}\n"]}